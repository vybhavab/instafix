name = "instafix"
compatibility_date = "2024-11-01"

# Pages configuration
pages_build_output_dir = "."

# Custom headers for optimal caching and performance
[[rules]]
globs = ["**/*.html"]
[rules.headers]
Cache-Control = "public, max-age=0, must-revalidate"

[[rules]]
globs = ["**/*.js"]
[rules.headers]
Cache-Control = "public, max-age=31536000, immutable"

[[rules]]
globs = ["**/*.css"]
[rules.headers]
Cache-Control = "public, max-age=31536000, immutable"

[[rules]]
globs = ["**/*.{jpg,jpeg,png,gif,svg,ico,webp}"]
[rules.headers]
Cache-Control = "public, max-age=31536000, immutable"

# Security headers for all resources
[[headers]]
for = "/*"
[headers.values]
X-Content-Type-Options = "nosniff"
X-Frame-Options = "SAMEORIGIN"
X-XSS-Protection = "1; mode=block"
Referrer-Policy = "strict-origin-when-cross-origin"
Permissions-Policy = "accelerometer=(), camera=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), payment=(), usb=()"
